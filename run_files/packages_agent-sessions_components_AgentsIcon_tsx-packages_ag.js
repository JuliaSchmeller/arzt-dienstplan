"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_agent-sessions_components_AgentsIcon_tsx-packages_agent-sessions_components_PremiumR-93ba44"],{7892:(e,t,r)=>{r.d(t,{i:()=>a});var n=r(21728),s=r(97286);function a(e){let t,r,a,o,i,l=(0,n.c)(11),{sessions:c,initialData:u}=e;l[0]!==c?(t=c||[],l[0]=c,l[1]=t):t=l[1],l[2]!==t?(r=function(e){let t=new Set;for(let r of e)t.add(r.user_id);return Array.from(t).sort((e,t)=>e-t).join(",")}(t),l[2]=t,l[3]=r):r=l[3];let d=r;return l[4]!==d?(a=["agent-sessions-users",d],o=async()=>{let e=await fetch(`/copilot/agent-sessions/users?user_ids=${encodeURIComponent(d)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)throw Error("Failed to fetch session owners");return(await e.json()).users},l[4]=d,l[5]=a,l[6]=o):(a=l[5],o=l[6]),l[7]!==u||l[8]!==a||l[9]!==o?(i={queryKey:a,queryFn:o,initialData:u},l[7]=u,l[8]=a,l[9]=o,l[10]=i):i=l[10],(0,s.I)(i)}},12385:(e,t,r)=>{r.d(t,{l:()=>g});var n=r(74848),s=r(21728),a=r(96540),o=r(26108),i=r(21373),l=r(38621),c=r(67154),u=r(44296),d=r(42455),m=r(51120);function g(e){let t,r,g,h,p,f,b,w=(0,s.c)(22),{nwo:_,currentUserCanPush:y,variant:x,onStoppingStateChange:C,loading:v}=e,{session:j}=(0,u.Lg)(),[k,N]=(0,a.useState)(!1),S=[c.Yj.InProgress,c.Yj.Idle,c.Yj.WaitingForUser].includes(j.state)&&!k;w[0]!==_||w[1]!==j.id?(t={queryKey:["stopSession",_,j.id],queryFn:async()=>await (0,m.I)({path:`/agents/swe/jobs/${_}/session/${j.id}/cancel`,method:"POST"}),enabled:!1,retry:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1},w[0]=_,w[1]=j.id,w[2]=t):t=w[2];let E=(0,d.b)(t);w[3]!==E.isLoading||w[4]!==E.isSuccess?(r=()=>{E.isSuccess&&!E.isLoading&&N(!0)},g=[E.isSuccess,E.isLoading],w[3]=E.isLoading,w[4]=E.isSuccess,w[5]=r,w[6]=g):(r=w[5],g=w[6]),(0,a.useEffect)(r,g);let I=E.isFetching||E.isLoading,L=I?"Stopping session...":"Stop session";w[7]!==E?(h=()=>E.refetch(),w[7]=E,w[8]=h):h=w[8];let $=h;w[9]!==C||w[10]!==I?(p=()=>{C?.(I)},f=[I,C],w[9]=C,w[10]=I,w[11]=p,w[12]=f):(p=w[11],f=w[12]),(0,a.useEffect)(p,f);let T=v??I;if("icon-button"===(void 0===x?"button":x)){let e;return w[13]!==$||w[14]!==T||w[15]!==I?(e=(0,n.jsx)(o.K,{icon:l.SquareCircleIcon,"aria-label":"Stop session",variant:"invisible",onClick:$,"aria-disabled":I,loading:T}),w[13]=$,w[14]=T,w[15]=I,w[16]=e):e=w[16],e}return _&&y&&S?(w[17]!==L||w[18]!==$||w[19]!==T||w[20]!==I?(b=(0,n.jsx)(i.Q,{className:"mr-2",leadingVisual:l.SquareFillIcon,variant:"danger",onClick:$,loading:T,loadingAnnouncement:"Stopping session","aria-disabled":I,children:L}),w[17]=L,w[18]=$,w[19]=T,w[20]=I,w[21]=b):b=w[21],b):null}try{g.displayName||(g.displayName="SessionStopButton")}catch{}},16425:(e,t,r)=>{r.d(t,{$X:()=>l,_$:()=>i});var n=r(74848),s=r(21728),a=r(96540);let o=(0,a.createContext)({variant:"default",onToolExpand:null});function i(){return(0,a.useContext)(o)}function l(e){let t,r,a=(0,s.c)(6),{variant:i,onToolExpand:l,children:c}=e,u=void 0===l?null:l;a[0]!==u||a[1]!==i?(t={variant:i,onToolExpand:u},a[0]=u,a[1]=i,a[2]=t):t=a[2];let d=t;return a[3]!==c||a[4]!==d?(r=(0,n.jsx)(o.Provider,{value:d,children:c}),a[3]=c,a[4]=d,a[5]=r):r=a[5],r}try{o.displayName||(o.displayName="SessionLogsContext")}catch{}try{l.displayName||(l.displayName="SessionLogsProvider")}catch{}},24939:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(74848),s=r(21728),a=r(96540);function o(e,t){let r=new Date(e).getTime(),n=Math.floor(((t&&"0001-01-01T00:00:00Z"!==t?new Date(t).getTime():Date.now())-r)/1e3),s=[{value:Math.floor(n/86400),label:"d"},{value:Math.floor(n%86400/3600),label:"h"},{value:Math.floor(n%3600/60),label:"m"},{value:n%60,label:"s"}].filter(e=>e.value>0);return 0===s.length?"0s":1===s.length?`${s[0]?.value??0}${s[0]?.label??""}`:s[1]?`${s[0]?.value}${s[0]?.label} ${s[1].value}${s[1].label??""}`:`${s[0]?.value??0}${s[0]?.label??""}`}var i=r(67154);function l(e){let t,r,l,c,u=(0,s.c)(10),{createdAt:d,completedAt:m,state:g}=e;u[0]!==m||u[1]!==d?(t=()=>o(d,m),u[0]=m,u[1]=d,u[2]=t):t=u[2];let[h,p]=(0,a.useState)(t);return u[3]!==m||u[4]!==d||u[5]!==g?(r=()=>{if(p(o(d,m)),g===i.Yj.InProgress||g===i.Yj.Queued){let e=setInterval(()=>{p(o(d,m))},500);return()=>clearInterval(e)}},l=[d,m,g],u[3]=m,u[4]=d,u[5]=g,u[6]=r,u[7]=l):(r=u[6],l=u[7]),(0,a.useEffect)(r,l),u[8]!==h?(c=(0,n.jsx)("time",{"aria-live":"off",className:"text-tabular-nums",children:h}),u[8]=h,u[9]=c):c=u[9],c}let c=l;try{l.displayName||(l.displayName="SessionElapsedTime")}catch{}},27566:(e,t,r)=>{r.d(t,{A:()=>n});function n(e,t){if(null!=e&&null!=t)return`/${e}/actions/runs/${t}`}},34001:(e,t,r)=>{r.d(t,{t:()=>c});var n=r(42455),s=r(67154),a=r(78314),o=r(51120),i=r(96540),l=r(88934);function c({pullId:e,initialData:t,sessionsPollingInterval:r}){let c=(0,a.t)(),[u,d]=(0,i.useState)(0),[m,g]=(0,i.useState)(!1),h=(0,l.g)(),[p]=(0,l.ok)(),f=p.get("session_id"),b=h.session_id||f,w=(0,i.useRef)(!0),_=e=>{if(!e)return[];let t=new Set,r=[];for(let n of e)t.has(n.id)||(t.add(n.id),r.push(n));return r};return{...(0,n.b)({queryKey:["agent-sessions",c.ownerLogin,c.name,e],queryFn:async()=>{try{let t=[];if(w.current){let r=await (0,o.I)({path:`/agents/sessions/resource/pull/${e}`}),n=await r.json(),s=(t=_(n.sessions)).some(e=>e.id===b);(0===t.length||b&&!s)&&(w.current=!1)}if(!w.current){let e=await (0,o.I)({path:`/agents/sessions/${b}`}),r=await e.json();r&&r.id&&(t=[r])}return d(0),g(!1),t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())}catch(e){throw d(e=>{let t=e+1;return t>=10&&g(!0),t}),e}},initialData:t?_(t):t,refetchInterval:e=>{let t=e.state.data;return t?t.some(e=>e.state===s.Yj.InProgress||e.state===s.Yj.Idle||e.state===s.Yj.WaitingForUser||e.state===s.Yj.Queued)?r:10*r:r},enabled:u<10}),timedOut:m,isRetrying:u>0&&!m}}},44296:(e,t,r)=>{r.d(t,{Lg:()=>i,PS:()=>l});var n=r(74848),s=r(21728),a=r(96540);let o=(0,a.createContext)(void 0);function i(){let e=(0,a.useContext)(o);if(!e)throw Error("useSessionContext must be used within a SessionContextProvider");return e}function l(e){let t,r,i,l=(0,s.c)(10),{session:c,sessionOwner:u,logs:d,logsAreLoading:m,children:g}=e;l[0]===Symbol.for("react.memo_cache_sentinel")?(t={},l[0]=t):t=l[0];let[h,p]=(0,a.useState)(t);l[1]!==d||l[2]!==m||l[3]!==h||l[4]!==c||l[5]!==u?(r={session:c,sessionOwner:u,logs:d,logsAreLoading:m,mcpToolNameMappings:h,setMcpToolNameMappings:p},l[1]=d,l[2]=m,l[3]=h,l[4]=c,l[5]=u,l[6]=r):r=l[6];let f=r;return l[7]!==g||l[8]!==f?(i=(0,n.jsx)(o.Provider,{value:f,children:g}),l[7]=g,l[8]=f,l[9]=i):i=l[9],i}try{o.displayName||(o.displayName="SessionContext")}catch{}try{l.displayName||(l.displayName="SessionContextProvider")}catch{}},55248:(e,t,r)=>{r.d(t,{j:()=>o,p:()=>a});var n=r(74848),s=r(21728);let a=e=>{let t,r,a=(0,s.c)(3);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("path",{d:"M7.25 1.7793C9.371 1.77943 11.1858 3.00816 12.0166 4.80762C14.2732 5.06028 15.9999 6.94976 16 9.2793C16 9.32465 15.9976 9.37003 15.9961 9.41504H15.9971C15.9971 9.82924 15.6613 10.165 15.2471 10.165C14.8356 10.1648 14.5011 9.83347 14.4971 9.42285H14.4961C14.4983 9.37538 14.5 9.32737 14.5 9.2793C14.4999 7.60324 13.176 6.27947 11.5 6.2793C11.1806 6.2793 10.8958 6.07714 10.791 5.77539C10.284 4.31438 8.90436 3.27944 7.25 3.2793C5.1596 3.2793 3.50012 4.93893 3.5 7.0293C3.5 7.11497 3.50931 7.23128 3.52051 7.33887C3.52582 7.38984 3.53023 7.43466 3.53418 7.46582L3.53906 7.50098L3.54004 7.50977L3.54102 7.51074C3.59503 7.88942 3.35481 8.24868 2.98438 8.34375C2.1243 8.5636 1.5001 9.32996 1.5 10.2793C1.5 11.4033 2.37598 12.2793 3.5 12.2793H3.5332V12.2783C3.53974 12.2783 3.54624 12.2791 3.55273 12.2793H3.55371C3.95838 12.2902 4.28314 12.621 4.2832 13.0283C4.2832 13.4356 3.95841 13.7655 3.55371 13.7764V13.7793H3.5C1.54755 13.7793 0 12.2317 0 10.2793C8.74811e-05 8.86873 0.808798 7.66476 2.00098 7.1084C2.00028 7.08195 2 7.05535 2 7.0293C2.00012 4.1105 4.33118 1.7793 7.25 1.7793ZM6.49707 7.98242C6.78987 7.68961 7.2647 7.68979 7.55762 7.98242L9.80762 10.2324C9.94825 10.373 10.0273 10.5638 10.0273 10.7627C10.0273 10.9616 9.94827 11.1523 9.80762 11.293L7.55762 13.543C7.26472 13.8358 6.78992 13.8358 6.49707 13.543C6.20444 13.2501 6.20435 12.7753 6.49707 12.4824L8.2168 10.7627L6.49707 9.04297C6.20447 8.75008 6.20433 8.27522 6.49707 7.98242ZM14.5273 12.2627C14.9415 12.2627 15.2773 12.5985 15.2773 13.0127C15.2773 13.4269 14.9415 13.7627 14.5273 13.7627H11.5273C11.1133 13.7625 10.7773 13.4268 10.7773 13.0127C10.7774 12.5987 11.1133 12.2629 11.5273 12.2627H14.5273Z",fill:"currentColor"}),a[0]=t):t=a[0],a[1]!==e?(r=(0,n.jsx)("svg",{"aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:t}),a[1]=e,a[2]=r):r=a[2],r},o=e=>{let t,r,a=(0,s.c)(3);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("path",{d:"M14.4482 3.33337C18.7 3.33337 22.3305 5.81163 23.9131 9.41736C23.9174 9.4271 23.9218 9.43678 23.9258 9.44666L23.9287 9.45447C28.4413 9.79159 31.9629 13.4237 31.998 17.9789H31.9922C31.9894 18.5288 31.5438 18.974 30.9932 18.974C30.441 18.9739 29.9933 18.5261 29.9932 17.974H29.9971C29.9577 14.3305 27.0059 11.4291 23.2412 11.4291C22.8325 11.429 22.4654 11.1795 22.3135 10.8002L22.0752 10.2064C20.8076 7.33395 17.8991 5.33337 14.4482 5.33337C9.80134 5.33339 6.13785 8.95653 6.1377 13.476C6.1377 13.855 6.16656 14.2794 6.20605 14.4838C6.30638 15.004 5.98334 15.5117 5.46973 15.642C3.44486 16.1554 2 17.9258 2 20.0795C2.00003 22.6354 4.04211 24.6663 6.68945 24.6664H8.125C8.67643 24.6673 9.12289 25.1148 9.12305 25.6664C9.12305 26.2181 8.67653 26.6645 8.125 26.6654V26.6664H6.68945C2.97192 26.6663 3.31456e-05 23.774 0 20.0795C0 17.2864 1.70256 14.9426 4.14941 13.972C4.14121 13.7976 4.1377 13.6268 4.1377 13.476C4.13785 7.81789 8.73115 3.33339 14.4482 3.33337ZM13.9863 17.6185C14.3768 17.2282 15.0099 17.2284 15.4004 17.6185L19.0674 21.2855C19.2549 21.473 19.3603 21.7274 19.3604 21.9926C19.3604 22.2577 19.2548 22.5121 19.0674 22.6996L15.4004 26.3666C15.0099 26.7569 14.3768 26.757 13.9863 26.3666C13.5959 25.9761 13.596 25.3431 13.9863 24.9525L16.9463 21.9926L13.9863 19.0336C13.5958 18.643 13.5958 18.0091 13.9863 17.6185ZM28.6934 24.6595C29.2456 24.6595 29.6934 25.1073 29.6934 25.6595C29.6932 26.2117 29.2456 26.6595 28.6934 26.6595H22.0264C21.4744 26.6593 21.0265 26.2116 21.0264 25.6595C21.0264 25.1074 21.4743 24.6598 22.0264 24.6595H28.6934Z",fill:"currentColor"}),a[0]=t):t=a[0],a[1]!==e?(r=(0,n.jsx)("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:t}),a[1]=e,a[2]=r):r=a[2],r}},61191:(e,t,r)=>{r.d(t,{f:()=>m});var n,s=r(74848),a=r(21728),o=r(96540),i=r(77274),l=r(54508),c=r(69599),u=r(96379);function d({surveyDialogRef:e,feedbackDialogRef:t,initialRatingRef:r,ratingOptions:n,source:a,onClose:c,onSubmitted:d}){let m=(0,o.useCallback)(async(e,t)=>{let r=[];if(null==e&&r.push("Please select a rating."),t.length>2e3&&r.push("Please keep your feedback within 2000 characters or less."),r.length>0)return r;let n={subject:`mission-control:${a}`,rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:"immersive"};try{(await (0,u.lS)("/github-copilot/feedback",{method:"POST",body:n})).ok?null!=e&&d?.(e):r.push("An error occurred while submitting your feedback.")}catch{r.push("An error occurred while submitting your feedback.")}return r},[a,d]),g=(0,o.useCallback)(e=>{"no-thanks"===e?t.current?.openDialog(r.current):(null!=r.current&&m(r.current,""),c?.("dismiss"))},[t,r,m,c]),h=(0,o.useCallback)(e=>{"dismiss"===e&&r.current&&m(r.current,""),c?.(e)},[r,m,c]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.E,{ref:e,onClose:g}),(0,s.jsx)(i.NE,{ref:t,options:n,onSubmit:m,onClose:h})]})}function m(e,t){let r,n,i,l,u=(0,a.c)(7),m=(0,o.useRef)(null),g=(0,o.useRef)(null),h=(0,o.useRef)(void 0);u[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,c.G7)("copilot_mission_control_interview_survey"),u[0]=r):r=u[0];let p=r;u[1]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{h.current=e,p?m.current?.openDialog():g.current?.openDialog(e)},u[1]=n):n=u[1];let f=n;u[2]!==t||u[3]!==e?(i=r=>(0,s.jsx)(d,{surveyDialogRef:m,feedbackDialogRef:g,initialRatingRef:h,ratingOptions:t,source:e,...r}),u[2]=t,u[3]=e,u[4]=i):i=u[4];let b=i;return u[5]!==b?(l={openFeedback:f,FeedbackDialog:b},u[5]=b,u[6]=l):l=u[6],l}try{d.displayName||(d.displayName="FeedbackDialog")}catch{}try{(n=DialogComponent).displayName||(n.displayName="DialogComponent")}catch{}},64894:(e,t,r)=>{r.d(t,{C:()=>l});var n=r(74848),s=r(21728),a=r(84078),o=r(96379),i=r(96540);function l(e){let t,r,l,c=(0,s.c)(4),{onBannerDismiss:u,enabled:d}=e,[m,g]=(0,i.useState)(!1);return!(void 0===d||d)||m?null:(c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-bold",children:"Copilot coding agent now uses fewer premium requests!"})," From now on, each session uses just one premium request."]}),r=(0,n.jsx)(a.l.PrimaryAction,{as:"a",href:"https://docs.github.com/copilot/concepts/copilot-billing/understanding-and-managing-requests-in-copilot",children:"Learn more"}),c[0]=t,c[1]=r):(t=c[0],r=c[1]),c[2]!==u?(l=(0,n.jsx)(a.l,{variant:"upsell",title:"Copilot premium requests announcement",hideTitle:!0,description:t,primaryAction:r,onDismiss:async()=>{g(!0),u&&u(),await (0,o.DI)("/settings/dismiss-notice/copilot_coding_agent_premium_requests_banner",{method:"POST"})}}),c[2]=u,c[3]=l):l=c[3],l)}try{l.displayName||(l.displayName="PremiumRequestsBanner")}catch{}},81261:(e,t,r)=>{r.d(t,{U:()=>eq});var n=r(74848),s=r(21728),a=r(4817),o=r(84078),i=r(96540),l=r(67154),c=r(98747),u=r(42455),d=r(44296),m=r(51120),g=r(72931);let h={[l.Yj.Completed]:"success",[l.Yj.InProgress]:"pending",[l.Yj.Idle]:"pending",[l.Yj.WaitingForUser]:"pending",[l.Yj.Queued]:"pending",[l.Yj.TimedOut]:"failure",[l.Yj.Failed]:"failure",[l.Yj.Cancelled]:"failure"};function p(){(0,g.gd)()}var f=r(38621),b=r(69726),w=r(21373);let _={summaryButton:"ToolHeader-module__summaryButton--yGhGb",summaryButtonMissionControl:"ToolHeader-module__summaryButtonMissionControl--MuMQb",icon:"ToolHeader-module__icon--P4n0X",text:"ToolHeader-module__text--SYGGt",path:"ToolHeader-module__path--IbYwi",spinnerContainer:"ToolHeader-module__spinnerContainer--Fe4p_"};var y=r(34164),x=r(16425),C=r(53419);function v(e){let t,r,a,o,i,l,c,u,d=(0,s.c)(37),{title:m,path:g,isCollapsed:h,isError:p,isPending:v,onModifierClick:j}=e,k=void 0!==p&&p,N=void 0!==v&&v,{variant:S,onToolExpand:E}=(0,x._$)();d[0]!==h||d[1]!==j||d[2]!==E||d[3]!==m?(t=e=>{if(E?.(!!h),(e.altKey||e.metaKey)&&j)return e.preventDefault(),e.stopPropagation(),j(!!h),(0,C.BI)("agent_sessions.task_view",{target:"TOOL_HEADER_MODIFIER",action:h?"EXPAND_ALL":"COLLAPSE_ALL",tool_title:m}),!1;(0,C.BI)("agent_sessions.task_view",{target:"TOOL_HEADER",action:h?"EXPAND":"COLLAPSE",tool_title:m})},d[0]=h,d[1]=j,d[2]=E,d[3]=m,d[4]=t):t=d[4];let I=t;if("mission-control"===S){let e,t,r,s,a,o=!h;return d[5]!==o?(e=(0,n.jsx)(f.ChevronRightIcon,{size:12,className:_.icon,"data-expanded":o}),d[5]=o,d[6]=e):e=d[6],d[7]!==g?(t=g&&(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)("span",{className:_.path,children:g})]}),d[7]=g,d[8]=t):t=d[8],d[9]!==t||d[10]!==m?(r=(0,n.jsxs)("span",{className:_.text,children:[m,t]}),d[9]=t,d[10]=m,d[11]=r):r=d[11],d[12]!==N?(s=N&&(0,n.jsx)("div",{className:_.spinnerContainer,children:(0,n.jsx)(b.A,{size:"small"})}),d[12]=N,d[13]=s):s=d[13],d[14]!==I||d[15]!==e||d[16]!==r||d[17]!==s?(a=(0,n.jsxs)("summary",{className:_.summaryButtonMissionControl,onClick:I,children:[e,r,s]}),d[14]=I,d[15]=e,d[16]=r,d[17]=s,d[18]=a):a=d[18],a}d[19]===Symbol.for("react.memo_cache_sentinel")?(r=(0,y.$)("Button",_.summaryButton),d[19]=r):r=d[19];let L=!h;return d[20]!==h?(a=h?(0,n.jsx)(f.ChevronRightIcon,{}):(0,n.jsx)(f.ChevronDownIcon,{}),d[20]=h,d[21]=a):a=d[21],d[22]!==k?(o=k?(0,n.jsx)(f.AlertIcon,{size:16,className:"color-fg-attention flex-shrink-0"}):null,d[22]=k,d[23]=o):o=d[23],d[24]!==m?(i=(0,n.jsx)("span",{className:"overflow-hidden text-truncate flex-1",children:m}),d[24]=m,d[25]=i):i=d[25],d[26]!==g?(l=g&&(0,n.jsx)("span",{className:"text-mono fgColor-default",children:g}),d[26]=g,d[27]=l):l=d[27],d[28]!==i||d[29]!==l?(c=(0,n.jsxs)(n.Fragment,{children:[i," ",l]}),d[28]=i,d[29]=l,d[30]=c):c=d[30],d[31]!==I||d[32]!==c||d[33]!==L||d[34]!==a||d[35]!==o?(u=(0,n.jsx)(w.Q,{as:"summary",block:!0,className:r,alignContent:"start","aria-expanded":L,"aria-labelledby":"tool-header-title",leadingVisual:a,trailingVisual:o,onClick:I,children:c}),d[31]=I,d[32]=c,d[33]=L,d[34]=a,d[35]=o,d[36]=u):u=d[36],u}try{v.displayName||(v.displayName="ToolHeader")}catch{}var j=r(85094);let k={container:"ToolCodeBlock-module__container--D9MMx",codeContainer:"ToolCodeBlock-module__codeContainer--V645Q",code:"ToolCodeBlock-module__code--ITGLQ",codeWrap:"ToolCodeBlock-module__codeWrap--mnqde"};function N(e){let t,r,a,o,l,c=(0,s.c)(12),{bashLoading:u,children:d}=e,m=(0,i.useId)(),[g,h]=(0,i.useState)("|");return c[0]!==u?(t=()=>{let e;if(u){let t=["|","/","-","\\"],r=0;e=setInterval(()=>{r=(r+1)%t.length,h(t[r]||"|")},250)}else h("|");return()=>clearInterval(e)},r=[u],c[0]=u,c[1]=t,c[2]=r):(t=c[1],r=c[2]),(0,i.useEffect)(t,r),c[3]!==u||c[4]!==g?(a=u&&(0,n.jsx)("span",{children:g}),c[3]=u,c[4]=g,c[5]=a):a=c[5],c[6]!==d||c[7]!==a?(o=(0,n.jsx)("div",{className:k.codeContainer,children:(0,n.jsx)("pre",{className:k.code,tabIndex:0,children:(0,n.jsxs)("code",{className:k.codeWrap,children:[d,a]})})}),c[6]=d,c[7]=a,c[8]=o):o=c[8],c[9]!==m||c[10]!==o?(l=(0,n.jsx)("figure",{className:k.container,"aria-labelledby":m,children:o}),c[9]=m,c[10]=o,c[11]=l):l=c[11],l}try{N.displayName||(N.displayName="ToolCodeBlock")}catch{}var S=r(47970);let E="data-tool-codeblock-props",I=(0,j.F)(E),L={code:(e,t)=>{let r=(0,j.k)(e,E);return r?(0,n.jsx)(N,{...r,children:e.children}):t}};function $(e={}){let{bashLoading:t}=e;return{transformMarkdown:e=>(0,S.YR)(e,"code",e=>{e.data={...e.data,hName:"code",hProperties:{[I]:JSON.stringify({language:e.lang??"",code:e.value,startOffset:e.position?.start.offset??-1,endOffset:e.position?.end.offset??-1,bashLoading:!!t})}}}),transformHtml:e=>(0,S.YR)(e,"element",(e,t,r)=>{let n=e.children?.[0];r&&void 0!==t&&"pre"===e.tagName&&e.children?.length===1&&n?.type==="element"&&"code"===n.tagName&&I in n.properties&&r.children.splice(t,1,n)}),reactComponents:L}}var T=r(98552),P=r(46251),G=r(40090);function H(e){try{let t=e.replace("/home/runner/work/","").split("/").slice(2).join("/");return t.length>0?t:void 0}catch{return e}}let M={detailsContainer:"Tool-module__detailsContainer--QPsTQ",detailsContainerDefault:"Tool-module__detailsContainerDefault--M2g13",toolContent:"Tool-module__toolContent--Rlnrn",toolContentMissionControl:"Tool-module__toolContentMissionControl--P3Bgh",diffPreview:"Tool-module__diffPreview--xgOwZ"};var A=r(66358);function F(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,e=>t[e]??e)}var q=r(98091),R=r(91747);let B=({language:e,markdown:t})=>t?`~~~${e}
${t}
~~~`:`~~~
Nothing to display
~~~`,D={"playwright-browser_navigate":"Navigate Playwright web browser to a URL","playwright-browser_navigate_back":"Navigate back in Playwright web browser","playwright-browser_navigate_forward":"Navigate forward in Playwright web browser","playwright-browser_click":"Click element in Playwright web browser","playwright-browser_take_screenshot":"Take screenshot of Playwright web browser","playwright-browser_type":"Type in Playwright web browser","playwright-browser_wait_for":"Wait for text to appear/disappear in Playwright web browser","playwright-browser_evaluate":"Run JavaScript in Playwright web browser","playwright-browser_snapshot":"Take snapshot of page in Playwright web browser","playwright-browser_resize":"Resize Playwright web browser window","playwright-browser_close":"Close Playwright web browser","playwright-browser_press_key":"Press key in Playwright web browser","playwright-browser_select_option":"Select option in Playwright web browser","playwright-browser_handle_dialog":"Interact with dialog in Playwright web browser","playwright-browser_console_messages":"Get console messages from Playwright web browser","playwright-browser_drag":"Drag mouse between elements in Playwright web browser","playwright-browser_file_upload":"Upload file in Playwright web browser","playwright-browser_hover":"Hover mouse over element in Playwright web browser","playwright-browser_network_requests":"Get network requests from Playwright web browser","github-mcp-server-get_file_contents":"Get file contents from GitHub","github-mcp-server-get_pull_request":"Get pull request from GitHub","github-mcp-server-get_issue":"Get issue from GitHub","github-mcp-server-get_pull_request_files":"Get pull request changed files from GitHub","github-mcp-server-list_pull_requests":"List pull requests on GitHub","github-mcp-server-list_branches":"List branches on GitHub","github-mcp-server-get_pull_request_diff":"Get pull request diff from GitHub","github-mcp-server-get_pull_request_comments":"Get pull request comments from GitHub","github-mcp-server-get_commit":"Get commit from GitHub","github-mcp-server-search_repositories":"Search repositories on GitHub","github-mcp-server-search_code":"Search code on GitHub","github-mcp-server-get_issue_comments":"Get issue comments from GitHub","github-mcp-server-list_issues":"List issues on GitHub","github-mcp-server-search_pull_requests":"Search pull requests on GitHub","github-mcp-server-list_commits":"List commits on GitHub","github-mcp-server-get_pull_request_status":"Get pull request status from GitHub","github-mcp-server-search_issues":"Search issues on GitHub","github-mcp-server-get_pull_request_reviews":"Get pull request reviews from GitHub","github-mcp-server-download_workflow_run_artifact":"Download GitHub Actions workflow run artifact","github-mcp-server-get_job_logs":"Get GitHub Actions job logs","github-mcp-server-get_workflow_run":"Get GitHub Actions workflow run","github-mcp-server-get_workflow_run_logs":"Get GitHub Actions workflow run logs","github-mcp-server-get_workflow_run_usage":"Get GitHub Actions workflow usage","github-mcp-server-list_workflow_jobs":"List GitHub Actions workflow jobs","github-mcp-server-list_workflow_run_artifacts":"List GitHub Actions workflow run artifacts","github-mcp-server-list_workflow_runs":"List GitHub Actions workflow runs","github-mcp-server-list_workflows":"List GitHub Actions workflows","gh-advisory-database":"Check new dependencies against the GitHub Advisory Database",codeql_checker:"Run CodeQL security scan on changed files",code_review:"Review changes with Copilot code review"};function O(e){let t=(0,s.c)(200),{name:r,delta:a,args:o,mcpToolNameMappings:i}=e,l=(0,R.u)("copilot_swe_agent_progress_commands");switch(r){case"bash":{let e,r,s,i=`$ ${o.command}`,l=o.description?`Bash: ${o.description}`:"Run Bash command";t[0]!==a.content?(e=K(a.content),t[0]=a.content,t[1]=e):e=t[1];let{isError:c,content:u}=e,d=void 0===u,m=o.command?.startsWith("git diff")?"diff":"bash",g=`${i}${u?`
${u}`:""}`;return t[2]!==d||t[3]!==m||t[4]!==g?(r=(0,n.jsx)(Q,{language:m,markdown:g,bashLoading:d}),t[2]=d,t[3]=m,t[4]=g,t[5]=r):r=t[5],t[6]!==c||t[7]!==d||t[8]!==r||t[9]!==l?(s=(0,n.jsx)(U,{title:l,isError:c,isPending:d,children:r}),t[6]=c,t[7]=d,t[8]=r,t[9]=l,t[10]=s):s=t[10],s}case"github-mcp-server-web_search":case"github-mcp-server-bing_search":{let e,r,s,i=`Web Search: ${o.query}`;t[11]!==a.content?(e=K(a.content),t[11]=a.content,t[12]=e):e=t[12];let{isError:l,content:c}=e;return t[13]!==c?(r=(0,n.jsx)(Q,{language:"json",markdown:c}),t[13]=c,t[14]=r):r=t[14],t[15]!==l||t[16]!==r||t[17]!==i?(s=(0,n.jsx)(U,{title:i,isError:l,children:r}),t[15]=l,t[16]=r,t[17]=i,t[18]=s):s=t[18],s}case"write_bash":{let e,r,s,i=`$ ${o.input}`;t[19]!==a.content?(e=K(a.content),t[19]=a.content,t[20]=e):e=t[20];let{isError:l,content:c}=e,u=void 0===c,d=`Send input to Bash session ${o.sessionId}`,m=`${i}${c?`
${c}`:""}`;return t[21]!==u||t[22]!==m?(r=(0,n.jsx)(Q,{language:"bash",markdown:m,bashLoading:u}),t[21]=u,t[22]=m,t[23]=r):r=t[23],t[24]!==l||t[25]!==u||t[26]!==d||t[27]!==r?(s=(0,n.jsx)(U,{title:d,isError:l,isPending:u,children:r}),t[24]=l,t[25]=u,t[26]=d,t[27]=r,t[28]=s):s=t[28],s}case"read_bash":{let e,r,s;t[29]!==a.content?(e=K(a.content),t[29]=a.content,t[30]=e):e=t[30];let{isError:i,content:l}=e,c=void 0===l,u=`Read logs from Bash session ${o.sessionId}`,d=l?`
${l}`:"";return t[31]!==c||t[32]!==d?(r=(0,n.jsx)(Q,{language:"bash",markdown:d,bashLoading:c}),t[31]=c,t[32]=d,t[33]=r):r=t[33],t[34]!==i||t[35]!==c||t[36]!==u||t[37]!==r?(s=(0,n.jsx)(U,{title:u,isError:i,isPending:c,children:r}),t[34]=i,t[35]=c,t[36]=u,t[37]=r,t[38]=s):s=t[38],s}case"stop_bash":{let e,r,s;t[39]!==a.content?(e=K(a.content),t[39]=a.content,t[40]=e):e=t[40];let{isError:i,content:l}=e,c=void 0===l,u=`Stop Bash session ${o.sessionId}`,d=l||"";return t[41]!==c||t[42]!==d?(r=(0,n.jsx)(Q,{language:"bash",markdown:d,bashLoading:c}),t[41]=c,t[42]=d,t[43]=r):r=t[43],t[44]!==i||t[45]!==c||t[46]!==u||t[47]!==r?(s=(0,n.jsx)(U,{title:u,isError:i,isPending:c,children:r}),t[44]=i,t[45]=c,t[46]=u,t[47]=r,t[48]=s):s=t[48],s}case"think":{let e,r,s;t[49]!==o.thought?(e=K(o.thought),t[49]=o.thought,t[50]=e):e=t[50];let{isError:a,content:i}=e;return t[51]!==i?(r=(0,n.jsx)(Q,{language:"markdown",markdown:i}),t[51]=i,t[52]=r):r=t[52],t[53]!==a||t[54]!==r?(s=(0,n.jsx)(U,{title:"Thought",isError:a,children:r}),t[53]=a,t[54]=r,t[55]=s):s=t[55],s}case"run_custom_setup_step":{let e,r,s,i;t[56]!==a.content?(e=K(a.content),t[56]=a.content,t[57]=e):e=t[57];let{isError:l,content:c}=e;t[58]!==o.name?(r=o.name?.trim()?`Run "${o.name.trim()}" custom setup step`:"Run custom setup step",t[58]=o.name,t[59]=r):r=t[59];let u=r,d=void 0===c;return t[60]!==d||t[61]!==c?(s=(0,n.jsx)(Q,{language:"console",markdown:c,bashLoading:d}),t[60]=d,t[61]=c,t[62]=s):s=t[62],t[63]!==l||t[64]!==d||t[65]!==s||t[66]!==u?(i=(0,n.jsx)(U,{title:u,isError:l,isPending:d,children:s}),t[63]=l,t[64]=d,t[65]=s,t[66]=u,t[67]=i):i=t[67],i}case"run_setup":{let e,r,s,i;t[68]!==a.content?(e=K(a.content),t[68]=a.content,t[69]=e):e=t[69];let{isError:l,content:c}=e;t[70]!==o.name?(r=o.name.trim(),t[70]=o.name,t[71]=r):r=t[71];let u=r,d=void 0===c;return t[72]!==d||t[73]!==c?(s=(0,n.jsx)(Q,{language:"console",markdown:c,bashLoading:d}),t[72]=d,t[73]=c,t[74]=s):s=t[74],t[75]!==l||t[76]!==d||t[77]!==s||t[78]!==u?(i=(0,n.jsx)(U,{title:u,isError:l,isPending:d,children:s}),t[75]=l,t[76]=d,t[77]=s,t[78]=u,t[79]=i):i=t[79],i}case"str_replace_editor":case"create":case"str_replace":case"edit":case"view":{let e,s,i="edit"===r?"str_replace":o.command||r;t[80]!==o.path?(e=o.path?.split(".").pop()||"",t[80]=o.path,t[81]=e):e=t[81];let c=e,u="md"===c?"markdown":c||"text";if(t[82]!==i||t[83]!==a.content||t[84]!==l||t[85]!==u||t[86]!==o.insert_line||t[87]!==o.path||t[88]!==o.view_range){s=Symbol.for("react.early_return_sentinel");e:{let{isError:e,content:r}=K(a.content);switch(i){case"create":case"insert":case"view":case"undo_edit":{let a,l=function(e){if(e)try{let t=e.split(`
`),r=-1;for(let e=0;e<t.length;e++)if(t[e]?.startsWith("@@")){r=e+1;break}return t.slice(r).map(e=>{if(!(e.startsWith("+")||e.startsWith("-")))return e.startsWith(" ")?e.substring(1):e;{let t=e.substring(1);return t.startsWith(" ")?t.substring(1):t}}).filter(e=>null!==e).join(`
`).trim()}catch{return e}}(r),c=H(o.path),d=c+J(i,o.view_range,o.insert_line);t[90]!==i||t[91]!==o.path?(a=Z({command:i,path:o.path}),t[90]=i,t[91]=o.path,t[92]=a):a=t[92],s=(0,n.jsx)(U,{title:a,isError:e,path:c?d:void 0,children:(0,n.jsx)(Q,{language:u,markdown:l})});break e}case"str_replace":{let a,c,u,d,m=r?.trim();if(m&&l){let r=function(e){let t=e.split(`
`),r=[],n=0,s=0;for(let e of t)if(e.startsWith("@@")){let t=e.match(/@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@/);t&&t[1]&&t[2]&&(n=parseInt(t[1],10),s=parseInt(t[2],10)),r.push({type:A.w$.Hunk,left:null,right:null,html:F(e),text:e})}else if(e.startsWith("+")&&!e.startsWith("+++")){let t=e.slice(1);r.push({type:A.w$.Addition,left:null,right:s++,html:F(t),text:t})}else if(e.startsWith("-")&&!e.startsWith("---")){let t=e.slice(1);r.push({type:A.w$.Deletion,left:n++,right:null,html:F(t),text:t})}else if(e.startsWith(" ")){let t=e.slice(1);r.push({type:A.w$.Context,left:n++,right:s++,html:F(t),text:t})}return r}(m);if(r.length>0){let a,l,c,u;t[93]!==i||t[94]!==o.path?(a=Z({command:i,path:o.path}),t[93]=i,t[94]=o.path,t[95]=a):a=t[95],t[96]!==o.path?(l=H(o.path),t[96]=o.path,t[97]=l):l=t[97],t[98]!==r?(c=(0,n.jsx)(q.i,{diffLines:r,tabSize:4,className:M.diffPreview}),t[98]=r,t[99]=c):c=t[99],t[100]!==e||t[101]!==a||t[102]!==l||t[103]!==c?(u=(0,n.jsx)(U,{title:a,isError:e,path:l,children:c}),t[100]=e,t[101]=a,t[102]=l,t[103]=c,t[104]=u):u=t[104],s=u;break e}}t[105]!==i||t[106]!==o.path?(a=Z({command:i,path:o.path}),t[105]=i,t[106]=o.path,t[107]=a):a=t[107],t[108]!==o.path?(c=H(o.path),t[108]=o.path,t[109]=c):c=t[109],t[110]!==m?(u=(0,n.jsx)(Q,{language:"diff",markdown:m}),t[110]=m,t[111]=u):u=t[111],t[112]!==e||t[113]!==a||t[114]!==c||t[115]!==u?(d=(0,n.jsx)(U,{title:a,isError:e,path:c,children:u}),t[112]=e,t[113]=a,t[114]=c,t[115]=u,t[116]=d):d=t[116],s=d;break e}}}t[82]=i,t[83]=a.content,t[84]=l,t[85]=u,t[86]=o.insert_line,t[87]=o.path,t[88]=o.view_range,t[89]=s}else s=t[89];if(s!==Symbol.for("react.early_return_sentinel"))return s;break}case"report_progress":{let e;t[117]!==a.content?(e=K(a.content),t[117]=a.content,t[118]=e):e=t[118];let{isError:r,content:s}=e;if("prDescription"in o){let e,a,i,l,c;t[119]!==o.prDescription?(e=K(o.prDescription),t[119]=o.prDescription,t[120]=e):e=t[120];let{isError:u,content:d}=e;t[121]!==o.commitMessage?(a=o.commitMessage.split(`
`)[0]||o.commitMessage,t[121]=o.commitMessage,t[122]=a):a=t[122];let m=a,g=`Progress update: ${m}`,h=u||r;return t[123]!==d?(i=(0,n.jsx)(Q,{language:"markdown",markdown:d}),t[123]=d,t[124]=i):i=t[124],t[125]!==s?(l=(0,n.jsx)(V,{type:"output",language:"json",markdown:s}),t[125]=s,t[126]=l):l=t[126],t[127]!==g||t[128]!==h||t[129]!==i||t[130]!==l?(c=(0,n.jsxs)(U,{title:g,isError:h,children:[i,l]}),t[127]=g,t[128]=h,t[129]=i,t[130]=l,t[131]=c):c=t[131],c}{let e,s,a=`Start next task: ${o.nextTask}`;return t[132]!==o.tasksChecklist?(e=(0,n.jsx)(Q,{language:"markdown",markdown:o.tasksChecklist}),t[132]=o.tasksChecklist,t[133]=e):e=t[133],t[134]!==r||t[135]!==a||t[136]!==e?(s=(0,n.jsx)(U,{title:a,isError:r,children:e}),t[134]=r,t[135]=a,t[136]=e,t[137]=s):s=t[137],s}}case"commit_changes":{let e,r,s,i;t[138]!==a.content?(e=K(a.content),t[138]=a.content,t[139]=e):e=t[139];let{isError:l,content:c}=e;t[140]!==o.commitMessage?(r=o.commitMessage.split(`
`)[0]||o.commitMessage,t[140]=o.commitMessage,t[141]=r):r=t[141];let u=r,d=`Commit changes: ${u}`;return t[142]!==c?(s=(0,n.jsx)(V,{type:"output",language:"json",markdown:c}),t[142]=c,t[143]=s):s=t[143],t[144]!==l||t[145]!==d||t[146]!==s?(i=(0,n.jsx)(U,{title:d,isError:l,children:s}),t[144]=l,t[145]=d,t[146]=s,t[147]=i):i=t[147],i}case"reply_to_comment":{let e,r,s;t[148]!==o.reply?(e=K(o.reply),t[148]=o.reply,t[149]=e):e=t[149];let{isError:a,content:i}=e;return t[150]!==i?(r=(0,n.jsx)(Q,{language:"markdown",markdown:i}),t[150]=i,t[151]=r):r=t[151],t[152]!==a||t[153]!==r?(s=(0,n.jsx)(U,{title:"Reply to comment",isError:a,children:r}),t[152]=a,t[153]=r,t[154]=s):s=t[154],s}case"async_bash":{let e,r,s,i=`$ ${o.command}`;t[155]!==a.content?(e=K(a.content),t[155]=a.content,t[156]=e):e=t[156];let{isError:l,content:c}=e,u=void 0===c,d=`Start or send input to long-running Bash session ${o.sessionId}`,m=`${i}${c?`
${c}`:""}`;return t[157]!==u||t[158]!==m?(r=(0,n.jsx)(Q,{language:"bash",markdown:m,bashLoading:u}),t[157]=u,t[158]=m,t[159]=r):r=t[159],t[160]!==l||t[161]!==u||t[162]!==d||t[163]!==r?(s=(0,n.jsx)(U,{title:d,isError:l,isPending:u,children:r}),t[160]=l,t[161]=u,t[162]=d,t[163]=r,t[164]=s):s=t[164],s}case"read_async_bash":{let e,r,s;t[165]!==a.content?(e=K(a.content),t[165]=a.content,t[166]=e):e=t[166];let{isError:i,content:l}=e,c=void 0===l,u=`View logs from long-running Bash session ${o.sessionId}`,d=l||"";return t[167]!==c||t[168]!==d?(r=(0,n.jsx)(Q,{language:"bash",markdown:d,bashLoading:c}),t[167]=c,t[168]=d,t[169]=r):r=t[169],t[170]!==i||t[171]!==c||t[172]!==u||t[173]!==r?(s=(0,n.jsx)(U,{title:u,isError:i,isPending:c,children:r}),t[170]=i,t[171]=c,t[172]=u,t[173]=r,t[174]=s):s=t[174],s}case"stop_async_bash":{let e,r,s;t[175]!==a.content?(e=K(a.content),t[175]=a.content,t[176]=e):e=t[176];let{isError:i,content:l}=e,c=void 0===l,u=`Stop long-running Bash session ${o.sessionId}`,d=l||"";return t[177]!==c||t[178]!==d?(r=(0,n.jsx)(Q,{language:"bash",markdown:d,bashLoading:c}),t[177]=c,t[178]=d,t[179]=r):r=t[179],t[180]!==i||t[181]!==c||t[182]!==u||t[183]!==r?(s=(0,n.jsx)(U,{title:u,isError:i,isPending:c,children:r}),t[180]=i,t[181]=c,t[182]=u,t[183]=r,t[184]=s):s=t[184],s}default:{let e,s,l,c,u,d;if(t[185]!==a.content){let{isError:r,content:n}=K(a.content);e=r,s=W(n),t[185]=a.content,t[186]=e,t[187]=s}else e=t[186],s=t[187];let{language:m,output:g}=s;t[188]!==o?(l=0===Object.keys(o).length?null:JSON.stringify(o,null,2),t[188]=o,t[189]=l):l=t[189];let h=l,p=D[r]||`Call to ${i?.[r]||r}`;return t[190]!==h?(c=h&&(0,n.jsx)(V,{type:"input",language:"json",markdown:h}),t[190]=h,t[191]=c):c=t[191],t[192]!==g||t[193]!==m?(u=(0,n.jsx)(Q,{language:m,markdown:g}),t[192]=g,t[193]=m,t[194]=u):u=t[194],t[195]!==e||t[196]!==c||t[197]!==u||t[198]!==p?(d=(0,n.jsxs)(U,{title:p,isError:e,children:[c,u]}),t[195]=e,t[196]=c,t[197]=u,t[198]=p,t[199]=d):d=t[199],d}}}let W=e=>{if(void 0===e)return{language:"text",output:e};try{let t=JSON.parse(e),r=JSON.stringify(t,null,2);return{language:"json",output:r}}catch{return{language:"text",output:e}}};function Y(e){return"markdown"!==e&&"text"!==e&&""!==e}function U({title:e,isError:t=!1,isPending:r=!1,path:s,children:a}){let{variant:o}=(0,x._$)(),[l,c]=(0,i.useState)(!1),u=(0,i.useRef)({}),d=(0,i.useRef)(null),m=(0,i.useRef)(null);return m.current=e=>{if(e.detail.excludeInstance!==u.current&&d.current){let t=e.detail.expand;d.current.open=t,c(t)}},(0,i.useEffect)(()=>{let e=e=>{m.current?.(e)};return document.addEventListener("tool-global-toggle",e),()=>{document.removeEventListener("tool-global-toggle",e)}},[]),(0,i.useEffect)(()=>{let e=d.current;if(!e)return;let t=new MutationObserver(()=>{c(e.hasAttribute("open"))});return t.observe(e,{attributes:!0,attributeFilter:["open"]}),c(e.hasAttribute("open")),()=>t.disconnect()},[]),(0,n.jsxs)("details",{ref:d,onToggle:e=>{c(e.currentTarget.open)},className:(0,y.$)(M.detailsContainer,{[M.detailsContainerDefault]:"default"===o}),children:[(0,n.jsx)(v,{title:e,path:s,isCollapsed:!l,isPending:r,isError:t,onModifierClick:e=>{d.current&&(d.current.open=e),c(e);let t=new CustomEvent("tool-global-toggle",{detail:{expand:e,excludeInstance:u.current}});document.dispatchEvent(t)}}),(0,n.jsx)("div",{className:"default"===o?`border-top ${M.toolContent}`:M.toolContentMissionControl,children:a})]})}function Q(e){let t,r=(0,s.c)(2);if(r[0]!==e){let{language:s,markdown:o,...i}=e;t=void 0===o?(0,n.jsx)(z,{}):(0,n.jsx)(a.To,{markdown:Y(s)?B({language:s,markdown:o}):o,extensions:[$({...i})],className:(0,y.$)(!Y(s)&&"p-3")}),r[0]=e,r[1]=t}else t=r[1];return t}function V(e){let t,r,o,i=(0,s.c)(8),{type:l,language:c,markdown:u}=e,d="input"===l?"Input":"Output";return i[0]!==d?(t=(0,n.jsx)(T.A,{size:"small",weight:"medium",className:"fgColor-muted",children:d}),i[0]=d,i[1]=t):t=i[1],i[2]!==c||i[3]!==u?(r=void 0===u?(0,n.jsx)(z,{}):(0,n.jsx)(a.To,{className:(0,y.$)(!Y&&"p-3","border rounded bgColor-default overflow-hidden"),markdown:B({language:c,markdown:u}),extensions:[$()]}),i[2]=c,i[3]=u,i[4]=r):r=i[4],i[5]!==t||i[6]!==r?(o=(0,n.jsxs)(P.B,{direction:"vertical",padding:"normal",gap:"condensed",children:[t,r]}),i[5]=t,i[6]=r,i[7]=o):o=i[7],o}function z(e){let t,r=(0,s.c)(3),{lines:a,maxWidth:o}=e,i=void 0===a?3:a,l=void 0===o?"45ch":o;return r[0]!==i||r[1]!==l?(t=(0,n.jsx)("div",{className:"py-3 px-4",children:(0,n.jsx)(G.r,{lines:i,maxWidth:l})}),r[0]=i,r[1]=l,r[2]=t):t=r[2],t}function K(e){if(!e)return{isError:!1,content:e};let t=e.match(/<error>(.*?)<\/error>/s);return t&&void 0!==t[1]?{isError:!0,content:t[1]}:{isError:!1,content:e}}let Z=({command:e,path:t})=>{let r=!!H(t)?.length;switch(e){case"create":return"Create";case"insert":return"Insert lines at";case"view":return`View${r?"":" repository"}`;case"str_replace":return"Edit";case"undo_edit":return"Undo edit";default:return e||"Unknown"}},J=(e,t,r)=>"view"===e&&t?`:${t[0]}-${t[1]}`:"insert"===e&&void 0!==r?`:${r}`:"";try{O.displayName||(O.displayName="ToolRenderer")}catch{}try{U.displayName||(U.displayName="Tool")}catch{}try{Q.displayName||(Q.displayName="ToolPrimaryContent")}catch{}try{V.displayName||(V.displayName="ToolSecondaryContent")}catch{}try{z.displayName||(z.displayName="MarkdownLoading")}catch{}function X(e){let t,r,a=(0,s.c)(5),{errorMessage:i,workflowRunLink:l}=e,c=i||"An unexpected error occurred. For more details, see the detailed logs in GitHub Actions.";return a[0]!==l?(t=l&&(0,n.jsx)(o.l.PrimaryAction,{as:"a",href:l,children:"View detailed logs"}),a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==t?(r=(0,n.jsx)(o.l,{"aria-label":"Session Error",title:"Copilot stopped work due to an error",description:c,variant:"critical",primaryAction:t}),a[2]=c,a[3]=t,a[4]=r):r=a[4],r}try{X.displayName||(X.displayName="SessionFailedBanner")}catch{}var ee=r(27566),et=r(74807),er=r(45244);let en=["Spinning up dev environment\u2026","Making sure Copilot feels comfortable in the cockpit\u2026","Fueling the runtime engines\u2026","Clearing the airspace for MCP traffic\u2026","Cabin pressure stable. Almost ready\u2026","Reticulating goggles...","Calibrating flux capacitor...","Copilot adjusting seatbelt\u2026","Waiting for clearance from GitHub tower\u2026","Final systems check, standing by\u2026","Takeoff soon\u2122\u2026"];function es(){let e,t,r,a=(0,s.c)(4),[o,l]=(0,i.useState)(0),c=(0,i.useRef)(null);a[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>(c.current?(clearInterval(c.current),c.current=null):c.current=setInterval(()=>{l(ea)},7e3),()=>{c.current&&(clearInterval(c.current),c.current=null)}),t=[],a[0]=e,a[1]=t):(e=a[0],t=a[1]),(0,i.useEffect)(e,t);let u=en[o]||"Loading\u2026";return a[2]!==u?(r=(0,n.jsx)(eo,{message:u}),a[2]=u,a[3]=r):r=a[3],r}function ea(e){return e<en.length-1?e+1:e}function eo(e){let t,r,a=(0,s.c)(3),{message:o}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(et.N,{animationType:et.L.Thinking,loopAnimation:!0}),a[0]=t):t=a[0],a[1]!==o?(r=(0,n.jsxs)(P.B,{direction:"horizontal",padding:"none",align:"center",justify:"start",gap:"condensed",children:[t,(0,n.jsx)(er.b,{className:"color-fg-muted",children:o})]}),a[1]=o,a[2]=r):r=a[2],r}try{es.displayName||(es.displayName="BootingUpMessage")}catch{}try{eo.displayName||(eo.displayName="LoadingMessage")}catch{}var ei=r(47801),el=r.n(ei),ec=r(8394),eu=r.n(ec);function ed(e,t){if(Array.isArray(e)&&Array.isArray(t)&&e[0]?.hasOwnProperty("delta")&&t[0]?.hasOwnProperty("delta")){let r=[],n=new Map;for(let s of e.concat(t)){let e=s.delta.tool_calls?.[0];if(!e||!e.id){r.push(s);continue}let t=s,a=n.get(e.id);a&&(t=el()({},a,s)),n.set(e.id,t)}return r.concat(Array.from(n.values()))}}var em=r(26108),eg=r(83494);let eh={steeringCommandInputContainer:"SteeringCommandInput-module__steeringCommandInputContainer--Mez66",steeringCommandInputWrapper:"SteeringCommandInput-module__steeringCommandInputWrapper--iM8oN",steeringCommandInputTextarea:"SteeringCommandInput-module__steeringCommandInputTextarea--jpLKJ",steeringCommandInputSubmitButton:"SteeringCommandInput-module__steeringCommandInputSubmitButton--PZsnB",errorMessage:"SteeringCommandInput-module__errorMessage--N97CH",errorIcon:"SteeringCommandInput-module__errorIcon--a2BvJ"};function ep(e){let t,r,a,o,l,c,u,d,m,g,h=(0,s.c)(24),{onSubmit:p,error:b}=e,[w,_]=(0,i.useState)(""),y=(0,i.useRef)(null);h[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{_(e.target.value);let t=e.target;t.style.height="auto",t.style.height=`${Math.min(t.scrollHeight,256)}px`},h[0]=t):t=h[0];let x=t;h[1]!==p||h[2]!==w?(r=()=>{w.trim()&&(p(w),_(""),y.current&&(y.current.style.height="auto"))},h[1]=p,h[2]=w,h[3]=r):r=h[3];let C=r;h[4]!==C?(a={"copilot-chat:send-message":C},h[4]=C,h[5]=a):a=h[5],h[6]!==w?(o=(0,n.jsx)("textarea",{ref:y,className:eh.steeringCommandInputTextarea,value:w,onChange:x,placeholder:"What would you like to change?",autoComplete:"off",autoCorrect:"off",spellCheck:"false",rows:1}),h[6]=w,h[7]=o):o=h[7],h[8]!==w?(l=w.trim(),h[8]=w,h[9]=l):l=h[9];let v=!l;return h[10]!==C||h[11]!==v?(c=(0,n.jsx)(em.K,{className:eh.steeringCommandInputSubmitButton,variant:"invisible",size:"small",icon:f.PaperAirplaneIcon,"aria-label":"Send",disabled:v,onClick:C}),h[10]=C,h[11]=v,h[12]=c):c=h[12],h[13]!==o||h[14]!==c?(u=(0,n.jsxs)("div",{className:eh.steeringCommandInputWrapper,children:[o,c]}),h[13]=o,h[14]=c,h[15]=u):u=h[15],h[16]!==b?(d=b&&(0,n.jsxs)("div",{className:eh.errorMessage,children:[(0,n.jsx)(f.AlertIcon,{className:eh.errorIcon}),(0,n.jsx)("span",{children:b})]}),h[16]=b,h[17]=d):d=h[17],h[18]!==u||h[19]!==d?(m=(0,n.jsxs)("div",{className:eh.steeringCommandInputContainer,children:[u,d]}),h[18]=u,h[19]=d,h[20]=m):m=h[20],h[21]!==m||h[22]!==a?(g=(0,n.jsx)(eg.tL,{commands:a,children:m}),h[21]=m,h[22]=a,h[23]=g):g=h[23],g}try{ep.displayName||(ep.displayName="SteeringCommandInput")}catch{}let ef={stickyContainer:"StickySteeringCommand-module__stickyContainer--HSHC7"};function eb(e){let t,r=(0,s.c)(3),{onSubmit:a,error:o}=e;return r[0]!==o||r[1]!==a?(t=(0,n.jsx)("div",{className:ef.stickyContainer,children:(0,n.jsx)(ep,{onSubmit:a,error:o})}),r[0]=o,r[1]=a,r[2]=t):t=r[2],t}try{eb.displayName||(eb.displayName="StickySteeringCommand")}catch{}let ew={commandContainer:"UserCommand-module__commandContainer--CDd84",commandBox:"UserCommand-module__commandBox--VV0Is",containerMuted:"UserCommand-module__containerMuted--d2LWH",actionText:"UserCommand-module__actionText--i05T_"};var e_=r(77430),ey=r(55127),ex=r.n(ey);function eC({sessionIsActive:e,commandState:t,inLogs:r}){if(r)return"in_logs";let n=["queued","in_progress","completed"];if(!e&&n.includes(t))return"dismissed";if(n.includes(t))return"queued";if(["failed","dismissed"].includes(t))return t;throw Error(`Unexpected command state: ${t}`)}function ev(e){let{rawCommands:t,commandData:r}=e,s=[],{session:a}=(0,d.Lg)(),o=(0,l.v5)(a);for(let e of t){let t,n=function(e,t){let r=e.find(e=>`command-${e.external_id}`===t.source);return r&&"string"==typeof t.content?r:null}(r,e);n&&(t={state:eC({sessionIsActive:o,commandState:n.state,inLogs:!0}),content:n.content},s.push(t))}return(0,n.jsx)(ek,{commands:s})}function ej(e){let{commands:t}=e,r=[],{session:s}=(0,d.Lg)(),a=(0,l.v5)(s);for(let e of t){let t={state:eC({sessionIsActive:a,commandState:e.state,inLogs:!1}),content:e.content};r.push(t)}return(0,n.jsx)(ek,{commands:r})}function ek(e){let t,r=(0,s.c)(2),{commands:a}=e;if(r[0]!==a){let e=[];for(let t of a){let r=e[e.length-1];r?.state===t.state?r.commands.push(t.content):e.push({state:t.state,commands:[t.content]})}t=(0,n.jsx)(n.Fragment,{children:e.map(eN)}),r[0]=a,r[1]=t}else t=r[1];return t}function eN(e,t){return(0,n.jsx)(eS,{contents:e.commands,state:e.state},t)}function eS(e){let t,r,a,o,i=(0,s.c)(11),{contents:l,state:c}=e;i[0]!==l.length||i[1]!==c?(t=function({state:e,count:t}){return({queued:{actionText:"Queued for Copilot",containerStateClass:ew.containerMuted},failed:{actionText:`Unable to submit ${ex()("message",t)}`,containerStateClass:ew.containerMuted},in_logs:{},dismissed:{actionText:`Copilot finished the session before it could pick up ${ex()("this",t)} ${ex()("message",t)}`,containerStateClass:ew.containerMuted}})[e]}({state:c,count:l.length}),i[0]=l.length,i[1]=c,i[2]=t):t=i[2];let u=t,d=u.actionText,m=u.containerStateClass,g=`mb-2 ${ew.commandContainer} ${m??""}`;return i[3]!==d?(r=d&&(0,n.jsx)("div",{className:`mb-2 ${ew.actionText}`,children:d}),i[3]=d,i[4]=r):r=i[4],i[5]!==l?(a=l.map(eE),i[5]=l,i[6]=a):a=i[6],i[7]!==g||i[8]!==r||i[9]!==a?(o=(0,n.jsx)(P.B,{children:(0,n.jsxs)("div",{className:g,children:[r,a]})}),i[7]=g,i[8]=r,i[9]=a,i[10]=o):o=i[10],o}function eE(e,t){return(0,n.jsx)(eI,{content:e},t)}function eI(e){let t,r,a,o=(0,s.c)(8),{content:i}=e,{sessionOwner:l}=(0,d.Lg)(),c=l?.login??"user";return o[0]!==i?(t=(0,n.jsx)("span",{className:`p-2 ${ew.commandBox}`,children:i}),o[0]=i,o[1]=t):t=o[1],o[2]!==c||o[3]!==l?(r=l?.primaryAvatarUrl&&(0,n.jsx)(e_.r,{src:l.primaryAvatarUrl,alt:`${c}'s avatar`,size:28,className:"ml-1"}),o[2]=c,o[3]=l,o[4]=r):r=o[4],o[5]!==t||o[6]!==r?(a=(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsxs)(P.B,{align:"center",direction:"horizontal",gap:"condensed",children:[t,r]})}),o[5]=t,o[6]=r,o[7]=a):a=o[7],a}try{ev.displayName||(ev.displayName="LogCommands")}catch{}try{ej.displayName||(ej.displayName="ChatCommands")}catch{}try{ek.displayName||(ek.displayName="ProcessedUserCommands")}catch{}try{eS.displayName||(eS.displayName="UserCommandGroup")}catch{}try{eI.displayName||(eI.displayName="UserCommand")}catch{}var eL=r(35898),e$=r(37976),eT=r(69599),eP=r(61191);let eG={container:"SessionFeedbackButtons-module__container--sE3N9"};var eH=r(77274);let eM=[{name:"Bad",value:"NEGATIVE",icon:eH.pu,color:"bad"},{name:"Good",value:"POSITIVE",icon:eH.ms,color:"good"}];function eA(){let e,t,r,a,o,l,c,u,m=(0,s.c)(16),g=(0,eT.G7)("copilot_swe_agent_progress_commands"),h=(0,eT.G7)("copilot_mission_control_feedback"),p=(0,eT.G7)("copilot_mission_control_session_feedback"),{session:b}=(0,d.Lg)(),[w,_]=(0,i.useState)(null),[y,x]=(0,i.useState)(b.id);m[0]!==y||m[1]!==b.id?(e=()=>{y!==b.id&&(_(null),x(b.id))},t=[b.id,y],m[0]=y,m[1]=b.id,m[2]=e,m[3]=t):(e=m[2],t=m[3]),(0,i.useEffect)(e,t);let{openFeedback:C,FeedbackDialog:v}=(0,eP.f)(`session-log:session_id=${b.id}`,eM);m[4]!==C?(r=e=>{_(e),C(e)},m[4]=C,m[5]=r):r=m[5];let j=r;m[6]===Symbol.for("react.memo_cache_sentinel")?(a=e=>_(e),m[6]=a):a=m[6];let k=a;m[7]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{"cancel"===e&&_(null)},m[7]=o):o=m[7];let N=o;return g&&h&&p?(m[8]!==j||m[9]!==w?(l=null!=w?(0,n.jsx)(em.K,{"aria-label":`${(0,e$.A)(w)} Feedback Submitted`,icon:"POSITIVE"===w?f.ThumbsupIcon:f.ThumbsdownIcon,variant:"invisible",size:"small",inactive:!0,"aria-disabled":!0}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(em.K,{icon:f.ThumbsupIcon,"aria-label":"Positive Feedback",onClick:()=>j("POSITIVE"),variant:"invisible",size:"small"}),(0,n.jsx)(em.K,{icon:f.ThumbsdownIcon,"aria-label":"Negative Feedback",onClick:()=>j("NEGATIVE"),variant:"invisible",size:"small"})]}),m[8]=j,m[9]=w,m[10]=l):l=m[10],m[11]!==v?(c=(0,n.jsx)(v,{onClose:N,onSubmitted:k}),m[11]=v,m[12]=c):c=m[12],m[13]!==l||m[14]!==c?(u=(0,n.jsxs)("div",{className:eG.container,children:[l,c]}),m[13]=l,m[14]=c,m[15]=u):u=m[15],u):null}try{eA.displayName||(eA.displayName="SessionFeedbackButtons")}catch{}let eF={markdownWrapper:"SessionLogs-module__markdownWrapper--sELfE"};function eq(e){let t,r,a,f,b,w,_,y,C,v,j,k,N,S,E=(0,s.c)(59),{logsPollingInterval:I,nwo:L,batchCompletedSessions:$,currentUser:T}=e,{session:P,setMcpToolNameMappings:G}=(0,d.Lg)(),H=(0,eL.i)(),M=T?.id===P.user_id||H?.id===P.user_id,{variant:A}=(0,x._$)(),F=(0,R.u)("copilot_swe_agent_progress_commands");E[0]!==I?(t={pollingInterval:I},E[0]=I,E[1]=t):t=E[1];let{data:q}=function(e){let t,r,n,a,o,i,l=(0,s.c)(17),{pollingInterval:c}=e,{session:g}=(0,d.Lg)(),h=g.id;l[0]!==h?(t=["agent-session-commands",h],r=async()=>{let e=await (0,m.I)({path:`/agents/sessions/${h}/commands?sort=created_at,asc`,method:"GET"});if(!e.ok)throw Error(`Failed to fetch commands: ${e.statusText}`);return e.json()},l[0]=h,l[1]=t,l[2]=r):(t=l[1],r=l[2]),l[3]!==c||l[4]!==g.state?(n=()=>("in_progress"===g.state||"queued"===g.state)&&c,l[3]=c,l[4]=g.state,l[5]=n):n=l[5],l[6]!==t||l[7]!==r||l[8]!==n?(a={queryKey:t,queryFn:r,refetchInterval:n},l[6]=t,l[7]=r,l[8]=n,l[9]=a):a=l[9];let p=(0,u.b)(a);return l[10]!==p.data?.commands?(o=p.data?.commands??[],l[10]=p.data?.commands,l[11]=o):o=l[11],l[12]!==p.error||l[13]!==p.isError||l[14]!==p.isLoading||l[15]!==o?(i={data:o,isLoading:p.isLoading,isError:p.isError,error:p.error},l[12]=p.error,l[13]=p.isError,l[14]=p.isLoading,l[15]=o,l[16]=i):i=l[16],i}(t),[B,D]=(0,i.useState)(null);E[2]!==P.id?(r=async e=>{try{D(null);let t=await (0,m.I)({path:`/agents/sessions/${P.id}/commands`,method:"POST",body:{content:e}});if(!t.ok){let e=`Failed to create command: ${t.statusText}`;D(e);return}}catch{D("Failed to submit command. Please try again.")}},E[2]=P.id,E[3]=r):r=E[3];let O=r;E[4]!==$||E[5]!==M||E[6]!==I?(a={logsPollingInterval:I,batchCompletedSessions:$,currentUserIsSessionOwner:M},E[4]=$,E[5]=M,E[6]=I,E[7]=a):a=E[7];let{data:W,isLoading:Y,showPollingError:U}=(0,c.j)(a);!function(e){let t,r,n=(0,s.c)(3);n[0]!==e?(t=()=>{let t=h[e];return(0,g.iD)(t),p},r=[e],n[0]=e,n[1]=t,n[2]=r):(t=n[1],r=n[2]),(0,i.useEffect)(t,r)}(P.state);let Q=function(e){if(!e)return[];let t=new Map;for(let r of e){let e=r,n=t.get(r.id);n&&(e=eu()({},n,r,ed)),t.set(r.id,e)}return[...t.values()]}((W??[]).filter(l.Qx));E[8]!==W?(f=function(e){if(!e)return[];let t=new Map,r=null,n=[];for(let s of e)if((0,l.Qx)(s)){let e=s,a=t.get(s.id);a&&(e=eu()({},a,s,ed)),t.set(s.id,e),r=null,n=[]}else if((0,l.JK)(s)){let e=null,a=[];r&&n.length>0?(e=r,a=[...n,s]):(e=s.source,a=[s]),t.set(e,a),r=e,n=a}return[...t.values()]}(W),E[8]=W,E[9]=f):f=E[9];let V=f;if(E[10]!==V||E[11]!==G?(b=()=>{let e=function(e){let t={};for(let r of e)if((0,l.Qx)(r))for(let e of r.choices){let r=e.delta.tool_calls?.[0];if(r&&"run_setup"===r.function.name)try{let e=JSON.parse(r.function.arguments.replace(/\n/g,"\\n"));e.details?.type==="mcp_setup"&&"object"==typeof e.details.toolNamesToDisplayNames&&Object.assign(t,e.details.toolNamesToDisplayNames??{})}catch{}}return t}(V);Object.keys(e).length>0&&G(t=>({...t,...e}))},w=[V,G],E[10]=V,E[11]=G,E[12]=b,E[13]=w):(b=E[12],w=E[13]),(0,i.useEffect)(b,w),"queued"===P.state){let e,t,r;return E[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(es,{}),E[14]=e):e=E[14],E[15]!==q||E[16]!==W?(t=eV(q,W),E[15]=q,E[16]=W,E[17]=t):t=E[17],E[18]!==t?(r=(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)(ej,{commands:t})]}),E[18]=t,E[19]=r):r=E[19],r}E[20]!==L||E[21]!==P.workflow_run_id?(_=P.workflow_run_id?(0,ee.A)(L??null,P.workflow_run_id):void 0,E[20]=L,E[21]=P.workflow_run_id,E[22]=_):_=E[22];let z=_;E[23]!==Y||E[24]!==U?(y=Y&&!U&&(0,n.jsx)(eo,{message:"Loading\u2026"}),E[23]=Y,E[24]=U,E[25]=y):y=E[25],E[26]!==W?.length||E[27]!==Y||E[28]!==P.state||E[29]!==U?(C=!Y&&!U&&W?.length===0&&"in_progress"!==P.state&&(0,n.jsx)("div",{children:"No logs to display"}),E[26]=W?.length,E[27]=Y,E[28]=P.state,E[29]=U,E[30]=C):C=E[30];let K=!Y&&W&&W?.length>0&&(0,n.jsxs)(n.Fragment,{children:[F?V?.map((e,t)=>(0,n.jsx)(eU,{logEntry:e,commandData:q},`logEntry-${t}`)):Q.map(eR),F&&(0,n.jsx)(ej,{commands:eV(q,W)})]});return E[31]!==U||E[32]!==z?(v=U&&(0,n.jsx)(o.l,{title:"Error",hideTitle:!0,description:"There was an error loading the logs. Please try again later.",variant:"critical",primaryAction:z?(0,n.jsx)(o.l.PrimaryAction,{as:"a",href:z,children:"View detailed logs"}):void 0}),E[31]=U,E[32]=z,E[33]=v):v=E[33],E[34]!==M||E[35]!==O||E[36]!==F||E[37]!==W||E[38]!==Y||E[39]!==P.state||E[40]!==U||E[41]!==B||E[42]!==A?(j="in_progress"===P.state&&!Y&&!U&&(0,n.jsxs)(n.Fragment,{children:[W&&W.length>0?(0,n.jsx)(eo,{message:"Copilot is working\u2026"}):(0,n.jsx)(es,{}),F&&"default"===A&&M&&(0,n.jsx)(eb,{onSubmit:O,error:B})]}),E[34]=M,E[35]=O,E[36]=F,E[37]=W,E[38]=Y,E[39]=P.state,E[40]=U,E[41]=B,E[42]=A,E[43]=j):j=E[43],E[44]!==P.error||E[45]!==U||E[46]!==z?(k=P.error?.message&&!U&&(0,n.jsx)(X,{errorMessage:P.error.message,workflowRunLink:z??null}),E[44]=P.error,E[45]=U,E[46]=z,E[47]=k):k=E[47],E[48]!==Y||E[49]!==P?(N=!(0,l.v5)(P)&&!Y&&(0,n.jsx)(eA,{}),E[48]=Y,E[49]=P,E[50]=N):N=E[50],E[51]!==K||E[52]!==v||E[53]!==j||E[54]!==k||E[55]!==N||E[56]!==y||E[57]!==C?(S=(0,n.jsxs)(n.Fragment,{children:[y,C,K,v,j,k,N]}),E[51]=K,E[52]=v,E[53]=j,E[54]=k,E[55]=N,E[56]=y,E[57]=C,E[58]=S):S=E[58],S}function eR(e){return(0,n.jsx)(eB,{...e},`entry-${e.id}`)}function eB(e){let t,r,a=(0,s.c)(4),{choices:o}=e;return a[0]!==o?(t=o.map(eD),a[0]=o,a[1]=t):t=a[1],a[2]!==t?(r=(0,n.jsx)(n.Fragment,{children:t}),a[2]=t,a[3]=r):r=a[3],r}function eD(e,t){return(0,n.jsx)(eO,{choice:e},`choice-${t}`)}function eO(e){let t,r=(0,s.c)(15),{choice:a}=e,{mcpToolNameMappings:o}=(0,d.Lg)(),i=a.delta.tool_calls?.[0];if(!i&&a.delta.content&&"assistant"===a.delta.role){let e;return r[0]!==a.delta.content?(e=(0,n.jsx)(eW,{content:a.delta.content}),r[0]=a.delta.content,r[1]=e):e=r[1],e}let l=i?.function;if(!i||!i.id||!l)return null;let c=null,u=!1;try{let e;r[2]!==l.arguments?(e=JSON.parse(l.arguments.replace(/\n/g,"\\n")),r[2]=l.arguments,r[3]=e):e=r[3],c=e}catch{u=!0}r[4]!==a.delta||r[5]!==o||r[6]!==c||r[7]!==l.arguments||r[8]!==l.name?(t=u?(0,n.jsx)(U,{title:"Error parsing tool call arguments",isError:!0,children:(0,n.jsx)(Q,{language:"text",markdown:l.arguments})}):(0,n.jsx)(O,{name:l.name,delta:a.delta,args:c,mcpToolNameMappings:o}),r[4]=a.delta,r[5]=o,r[6]=c,r[7]=l.arguments,r[8]=l.name,r[9]=t):t=r[9];let m=t;if(a.delta.reasoning_text){let e,t;return r[10]!==a.delta.reasoning_text?(e=(0,n.jsx)(eY,{content:a.delta.reasoning_text}),r[10]=a.delta.reasoning_text,r[11]=e):e=r[11],r[12]!==m||r[13]!==e?(t=(0,n.jsxs)(n.Fragment,{children:[e,m]}),r[12]=m,r[13]=e,r[14]=t):t=r[14],t}return m}function eW(e){let t,r,o=(0,s.c)(5),{content:i}=e;if(o[0]!==i){let e;o[2]===Symbol.for("react.memo_cache_sentinel")?(e=/<pr_title>.*?<\/pr_title>|<pr_description>.*?<\/pr_description>|<empty>/gs,o[2]=e):e=o[2],t=i.replace(e,""),o[0]=i,o[1]=t}else t=o[1];return i=t,o[3]!==i?(r=(0,n.jsx)("div",{className:eF.markdownWrapper,children:(0,n.jsx)(a.To,{markdown:i})}),o[3]=i,o[4]=r):r=o[4],r}function eY(e){let t,r=(0,s.c)(2),{content:o}=e;return r[0]!==o?(t=(0,n.jsx)("div",{className:eF.markdownWrapper,children:(0,n.jsx)(a.To,{markdown:o})}),r[0]=o,r[1]=t):t=r[1],t}function eU(e){let t=(0,s.c)(7),{logEntry:r,commandData:a}=e;if((0,l.Pb)(r)){let e;return t[0]!==a||t[1]!==r?(e=(0,n.jsx)(ev,{rawCommands:r,commandData:a}),t[0]=a,t[1]=r,t[2]=e):e=t[2],e}if((0,l.Qx)(r)){let e,s;return t[3]!==r.choices?(e=r.choices.map(eQ),t[3]=r.choices,t[4]=e):e=t[4],t[5]!==e?(s=(0,n.jsx)(n.Fragment,{children:e}),t[5]=e,t[6]=s):s=t[6],s}return null}function eQ(e,t){return(0,n.jsx)(eO,{choice:e},`choice-${t}`)}function eV(e,t){return e?.length&&t?e.filter(e=>!t.some(t=>{var r,n;return r=e,n=t,(0,l.PG)(n)&&n.source&&n.source===`command-${r.external_id}`})):[]}try{eq.displayName||(eq.displayName="SessionLogs")}catch{}try{eB.displayName||(eB.displayName="LogEntry")}catch{}try{eO.displayName||(eO.displayName="LogEntryChoice")}catch{}try{eW.displayName||(eW.displayName="CopilotMessage")}catch{}try{eY.displayName||(eY.displayName="ReasoningText")}catch{}try{eU.displayName||(eU.displayName="LogEntryRenderer")}catch{}},88984:(e,t,r)=>{r.d(t,{Q:()=>i,w:()=>l});var n=r(74848),s=r(21728),a=r(38621),o=r(67154);function i(e){switch(e){case o.Yj.InProgress:return(0,n.jsx)(l,{});case o.Yj.Completed:return(0,n.jsx)(a.CheckCircleFillIcon,{className:"fgColor-success","aria-label":"Completed"});case o.Yj.Failed:case o.Yj.TimedOut:return(0,n.jsx)(a.XCircleFillIcon,{className:"fgColor-danger","aria-label":"Failed"});case o.Yj.Idle:return(0,n.jsx)(a.DotFillIcon,{className:"fgColor-attention","aria-label":"Idle"});case o.Yj.WaitingForUser:return(0,n.jsx)(a.QuestionIcon,{className:"fgColor-attention","aria-label":"Waiting for user"});case o.Yj.Cancelled:return(0,n.jsx)(a.SquareFillIcon,{className:"fgColor-muted","aria-label":"Cancelled"});case o.Yj.Queued:return(0,n.jsx)(a.ClockIcon,{className:"fgColor-attention","aria-label":"Queued"});default:return null}}function l(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("svg",{"aria-label":"Currently running",width:"16px",height:"16px",fill:"none",viewBox:"0 0 16 16",className:"anim-rotate",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fill:"none",stroke:"var(--color-fg-attention, #bf8700)",strokeWidth:"2",d:"M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z",opacity:".5"}),(0,n.jsx)("path",{fill:"var(--color-fg-attention, #bf8700)",fillRule:"evenodd",d:"M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"var(--color-fg-attention, #bf8700)",d:"M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"})]}),t[0]=e):e=t[0],e}try{l.displayName||(l.displayName="InProgressSpinner")}catch{}},98747:(e,t,r)=>{r.d(t,{j:()=>u});var n=r(42455),s=r(67154),a=r(86339),o=r(96540),i=r(44296),l=r(78314),c=r(51120);function u({logsPollingInterval:e,batchCompletedSessions:t=!0,currentUserIsSessionOwner:r}){let{session:u,logs:d,logsAreLoading:m}=(0,i.Lg)(),g=(0,l.t)(),[h,p]=(0,o.useState)(0),f=u.id,b=[s.Yj.Completed,s.Yj.Failed,s.Yj.Cancelled].map(e=>e.toLowerCase()).includes(u.state),w=t&&r&&b,_=(0,n.b)({queryKey:["agent-pr-session-logs",f,g.ownerLogin,g.name,h],queryFn:async()=>{let e=await (0,c.I)({path:`/agents/sessions/${f}/logs`,streamingResponse:!0}),t=e.body?.getReader();if(!t)throw Error("No reader found in response body");let r=[];try{for await(let e of new a.X(t).stream())if((0,s.X)(e))r.push(e);else throw Error(`Invalid log entry received: ${JSON.stringify(e)}`);return p(0),r}catch(e){throw Error(`Error while streaming logs. Error: ${e}`)}},refetchInterval:u.state!==s.Yj.Completed&&e,enabled:!w&&h<10});(0,o.useEffect)(()=>{_.error&&p(e=>e+1)},[_.error]);let y=_.error&&h>=10;return w&&(d?.length||m)?{data:d,isLoading:m,error:!1,showPollingError:y}:{..._,showPollingError:y}}}}]);
//# sourceMappingURL=packages_agent-sessions_components_AgentsIcon_tsx-packages_agent-sessions_components_PremiumR-93ba44-eb610b0e4aef.js.map